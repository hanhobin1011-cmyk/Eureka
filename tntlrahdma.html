<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ë“±ìˆ˜í•™(í•˜) ê¸°ë§ê³ ì‚¬ í•µì‹¬ì •ë¦¬</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            900: '#0f172a', // Slate 900
                            800: '#1e293b', // Slate 800
                            700: '#334155', // Slate 700
                        },
                        accent: {
                            400: '#2dd4bf', // Teal 400
                            500: '#14b8a6', // Teal 500
                        }
                    },
                    fontFamily: {
                        sans: ['Noto Sans KR', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <!-- MathJax for rendering equations -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }
        .math-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }
        /* Hide scrollbar for clean look */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-dark-900/90 backdrop-blur-md border-b border-dark-700 shadow-lg">
        <div class="max-w-3xl mx-auto px-4 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-xl font-bold text-accent-400">
                    <i class="fa-solid fa-square-root-variable mr-2"></i>ìˆ˜í•™ ê°œë…ë…¸íŠ¸
                </h1>
                <p class="text-xs text-slate-400">í•´ì›ê³  & í•œí˜¸ë¹ˆ ìˆ˜í•™ (ê¸°ë§ ë²”ìœ„)</p>
            </div>
            <button id="searchBtn" class="text-slate-300 hover:text-white transition">
                <i class="fa-solid fa-magnifying-glass text-lg"></i>
            </button>
        </div>
        <!-- Search Bar (Hidden by default) -->
        <div id="searchContainer" class="hidden bg-dark-800 p-4 border-b border-dark-700">
            <input type="text" id="searchInput" placeholder="ê°œë… ê²€ìƒ‰ (ì˜ˆ: ëª…ì œ, ì—­í•¨ìˆ˜...)" 
                class="w-full bg-dark-900 text-white border border-dark-700 rounded-lg px-4 py-2 focus:outline-none focus:border-accent-500 transition">
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-3xl mx-auto w-full px-4 py-6 space-y-6">
        
        <!-- Welcome Card -->
        <div class="bg-gradient-to-r from-slate-800 to-slate-900 rounded-2xl p-6 border border-dark-700 shadow-xl">
            <h2 class="text-lg font-semibold text-white mb-2">ğŸ‘‹ ì‹œí—˜ ëŒ€ë°• ê¸°ì›!</h2>
            <p class="text-slate-400 text-sm leading-relaxed">
                2í•™ê¸° ê¸°ë§ê³ ì‚¬ ë²”ìœ„ì¸ <strong>ëª…ì œë¶€í„° ë¬´ë¦¬í•¨ìˆ˜</strong>ê¹Œì§€ì˜ í•µì‹¬ ìœ í˜•ê³¼ ê°œë…ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.<br>
                íƒ­ì„ ëˆŒëŸ¬ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.
            </p>
        </div>

        <!-- Navigation / Filter -->
        <div class="flex space-x-2 overflow-x-auto no-scrollbar pb-2" id="categoryNav">
            <!-- Dynamically populated -->
        </div>

        <!-- Content Area -->
        <div id="contentArea" class="space-y-4">
            <!-- Content will be injected here via JS -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-dark-900 border-t border-dark-700 py-6 mt-auto">
        <div class="max-w-3xl mx-auto px-4 text-center text-slate-500 text-xs">
            <p>Based on Uploaded Material (í•´ì›ê³  & í•œí˜¸ë¹ˆ ìˆ˜í•™)</p>
            <p class="mt-1">Developed for Students</p>
        </div>
    </footer>

    <!-- Data & Logic -->
    <script>
        // Data Structure based on the PDF content
        const studyData = [
            {
                id: "logic",
                category: "ëª…ì œ",
                icon: "fa-check-double",
                items: [
                    {
                        title: "ëª…ì œì™€ ì¡°ê±´ì˜ ê¸°ì´ˆ",
                        content: `
                            <ul class="list-disc list-inside space-y-2 text-slate-300 text-sm">
                                <li><strong>ëª…ì œ:</strong> ì°¸, ê±°ì§“ì„ ëª…í™•íˆ íŒë³„í•  ìˆ˜ ìˆëŠ” ë¬¸ì¥ì´ë‚˜ ì‹.</li>
                                <li><strong>ì§„ë¦¬ì§‘í•©:</strong> ì¡°ê±´ $p$ë¥¼ ì°¸ì´ ë˜ê²Œ í•˜ëŠ” ëª¨ë“  ì›ì†Œì˜ ì§‘í•© ($P$).</li>
                                <li><strong>ì¡°ê±´ì˜ ë¶€ì •:</strong> '~p' ($p$ê°€ ì•„ë‹ˆë‹¤). <br> $P^c$ (ì—¬ì§‘í•©)ì— í•´ë‹¹.</li>
                                <li><strong>'ë˜ëŠ”' / 'ê·¸ë¦¬ê³ 'ì˜ ë¶€ì •:</strong> ë“œëª¨ë¥´ê°„ ë²•ì¹™ í™œìš©. <br> $p \\text{ or } q$ ì˜ ë¶€ì • $\\rightarrow \\sim p \\text{ and } \\sim q$</li>
                            </ul>
                        `
                    },
                    {
                        title: "ëª…ì œ $p \\to q$ ì˜ ì°¸/ê±°ì§“",
                        content: `
                            <div class="bg-dark-900 p-3 rounded-lg mb-2 border border-dark-700">
                                <span class="text-accent-400 font-bold">í•µì‹¬:</span> $P \\subset Q$ ì´ë©´ ì°¸ì´ë‹¤.
                            </div>
                            <p class="text-sm text-slate-300 mb-2">
                                $P \\not\\subset Q$ ì´ë©´ ê±°ì§“ì´ë‹¤. (ë°˜ë¡€ê°€ ì¡´ì¬í•¨)
                            </p>
                            <p class="text-sm text-slate-300">
                                <strong>ë°˜ë¡€:</strong> $p$ ì´ì§€ë§Œ $q$ ê°€ ì•„ë‹Œ ì›ì†Œ. <br>
                                ì§‘í•©ìœ¼ë¡œëŠ” $P - Q = P \\cap Q^c$ ì˜ ì›ì†Œ.
                            </p>
                        `
                    },
                    {
                        title: "ì—­ê³¼ ëŒ€ìš° & ì‚¼ë‹¨ë…¼ë²•",
                        content: `
                            <table class="w-full text-sm text-left text-slate-300 mb-3">
                                <tr class="border-b border-dark-700"><th class="py-2">ëª…ì œ</th><td class="py-2 text-right">$p \\to q$</td></tr>
                                <tr class="border-b border-dark-700"><th class="py-2">ì—­</th><td class="py-2 text-right">$q \\to p$</td></tr>
                                <tr><th class="py-2 text-accent-400">ëŒ€ìš°</th><td class="py-2 text-right text-accent-400">$\\sim q \\to \\sim p$</td></tr>
                            </table>
                            <ul class="list-disc list-inside space-y-2 text-slate-300 text-sm">
                                <li>ëª…ì œì™€ ê·¸ <strong>ëŒ€ìš°</strong>ì˜ ì°¸/ê±°ì§“ì€ ì¼ì¹˜í•œë‹¤.</li>
                                <li><strong>ì‚¼ë‹¨ë…¼ë²•:</strong> $p \\to q$ê°€ ì°¸ì´ê³  $q \\to r$ì´ ì°¸ì´ë©´, $p \\to r$ë„ ì°¸ì´ë‹¤.</li>
                            </ul>
                        `
                    },
                    {
                        title: "í•„ìš”ì¡°ê±´ê³¼ ì¶©ë¶„ì¡°ê±´",
                        content: `
                            <div class="space-y-3 text-sm text-slate-300">
                                <div class="flex items-center justify-between bg-dark-900 p-3 rounded border border-dark-700">
                                    <span>$p \\Rightarrow q$ ($P \\subset Q$)</span>
                                    <span class="text-accent-400 font-bold">pëŠ” ì¶©ë¶„ì¡°ê±´</span>
                                </div>
                                <div class="flex items-center justify-between bg-dark-900 p-3 rounded border border-dark-700">
                                    <span>$q \\Rightarrow p$ ($Q \\subset P$)</span>
                                    <span class="text-yellow-400 font-bold">pëŠ” í•„ìš”ì¡°ê±´</span>
                                </div>
                                <div class="flex items-center justify-between bg-dark-900 p-3 rounded border border-dark-700">
                                    <span>$p \\Leftrightarrow q$ ($P = Q$)</span>
                                    <span class="text-green-400 font-bold">í•„ìš”ì¶©ë¶„ì¡°ê±´</span>
                                </div>
                                <p class="text-xs text-slate-400 mt-2 text-center">ğŸ’¡ íŒ: í™”ì‚´í‘œë¥¼ ì£¼ë©´(ì£¼ì–´) ì¶©ë¶„, ë°›ìœ¼ë©´(í”¼í˜ë¦¼) í•„ìš”</p>
                            </div>
                        `
                    }
                ]
            },
            {
                id: "inequality",
                category: "ì ˆëŒ€ë¶€ë“±ì‹",
                icon: "fa-scale-balanced",
                items: [
                    {
                        title: "ì‚°ìˆ í‰ê· ê³¼ ê¸°í•˜í‰ê· ",
                        content: `
                            <div class="bg-dark-900 p-4 rounded-lg border border-dark-700 text-center mb-3">
                                <p class="text-slate-200 mb-2">$a > 0, b > 0$ ì¼ ë•Œ,</p>
                                <p class="text-xl text-accent-400 font-bold">$\\frac{a+b}{2} \\ge \\sqrt{ab}$</p>
                                <p class="text-slate-400 text-xs mt-2">(ë‹¨, ë“±í˜¸ëŠ” $a=b$ ì¼ ë•Œ ì„±ë¦½)</p>
                            </div>
                            <ul class="list-disc list-inside space-y-1 text-slate-300 text-sm">
                                <li>í•©ì´ ì¼ì •í•˜ë©´ ê³±ì˜ ìµœëŒ“ê°’ì„ êµ¬í•  ë•Œ ì‚¬ìš©</li>
                                <li>ê³±ì´ ì¼ì •í•˜ë©´ í•©ì˜ ìµœì†Ÿê°’ì„ êµ¬í•  ë•Œ ì‚¬ìš©</li>
                                <li>ì—­ìˆ˜ ê¼´ì˜ í•©ì˜ ìµœì†Œ êµ¬í•  ë•Œ ìì£¼ ì‚¬ìš©</li>
                            </ul>
                        `
                    },
                    {
                        title: "ì½”ì‹œ-ìŠˆë°”ë¥´ì¸  ë¶€ë“±ì‹",
                        content: `
                            <div class="bg-dark-900 p-4 rounded-lg border border-dark-700 text-center">
                                <p class="text-slate-200 text-sm mb-2">$a, b, x, y$ ê°€ ì‹¤ìˆ˜ì¼ ë•Œ,</p>
                                <p class="text-lg text-yellow-400 font-bold">$(a^2+b^2)(x^2+y^2) \\ge (ax+by)^2$</p>
                                <p class="text-slate-400 text-xs mt-2">(ë‹¨, ë“±í˜¸ëŠ” $a:b = x:y$ ì¼ ë•Œ ì„±ë¦½)</p>
                            </div>
                        `
                    }
                ]
            },
            {
                id: "function",
                category: "í•¨ìˆ˜",
                icon: "fa-wave-square",
                items: [
                    {
                        title: "í•¨ìˆ˜ì˜ ëœ»ê³¼ ì¢…ë¥˜",
                        content: `
                            <ul class="list-disc list-inside space-y-2 text-slate-300 text-sm">
                                <li><strong>í•¨ìˆ˜:</strong> $X$ì˜ ê° ì›ì†Œì— $Y$ì˜ ì›ì†Œê°€ ì˜¤ì§ í•˜ë‚˜ì”© ëŒ€ì‘.</li>
                                <li><strong>ì¼ëŒ€ì¼í•¨ìˆ˜:</strong> $x_1 \\neq x_2 \\Rightarrow f(x_1) \\neq f(x_2)$</li>
                                <li><strong>ì¼ëŒ€ì¼ëŒ€ì‘:</strong> ì¼ëŒ€ì¼í•¨ìˆ˜ + (ê³µì—­ = ì¹˜ì—­). <br> <span class="text-accent-400 text-xs">* ì—­í•¨ìˆ˜ ì¡´ì¬ ì¡°ê±´ì„!</span></li>
                                <li><strong>í•­ë“±í•¨ìˆ˜:</strong> $f(x) = x$</li>
                                <li><strong>ìƒìˆ˜í•¨ìˆ˜:</strong> $f(x) = c$ (í•˜ë‚˜ë¡œ ëª°ë¹µ)</li>
                            </ul>
                        `
                    },
                    {
                        title: "í•©ì„±í•¨ìˆ˜ì™€ ì—­í•¨ìˆ˜",
                        content: `
                            <div class="space-y-3 text-sm text-slate-300">
                                <div>
                                    <strong class="text-white">í•©ì„±í•¨ìˆ˜ ì„±ì§ˆ:</strong>
                                    <ul class="pl-4 mt-1 space-y-1 text-xs text-slate-400">
                                        <li>êµí™˜ë²•ì¹™ ì„±ë¦½ ì•ˆ í•¨ ($f \\circ g \\neq g \\circ f$)</li>
                                        <li>ê²°í•©ë²•ì¹™ ì„±ë¦½ ($ (f \\circ g) \\circ h = f \\circ (g \\circ h) $)</li>
                                    </ul>
                                </div>
                                <div class="border-t border-dark-700 pt-2">
                                    <strong class="text-white">ì—­í•¨ìˆ˜ ($f^{-1}$) ì„±ì§ˆ:</strong>
                                    <ul class="pl-4 mt-1 space-y-1">
                                        <li>$y=f(x) \\Leftrightarrow x=f^{-1}(y)$</li>
                                        <li>ê·¸ë˜í”„ëŠ” $y=x$ ì— ëŒ€í•˜ì—¬ ëŒ€ì¹­</li>
                                        <li>$(g \\circ f)^{-1} = f^{-1} \\circ g^{-1}$ (ìˆœì„œ ë°”ë€œ ì£¼ì˜!)</li>
                                    </ul>
                                </div>
                            </div>
                        `
                    }
                ]
            },
            {
                id: "rational",
                category: "ìœ ë¦¬í•¨ìˆ˜",
                icon: "fa-chart-line",
                items: [
                    {
                        title: "ìœ ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„ $y=\\frac{k}{x-p}+q$",
                        content: `
                            <div class="bg-dark-900 p-3 rounded-lg border border-dark-700 mb-3">
                                <ul class="space-y-2 text-sm text-slate-300">
                                    <li><span class="text-accent-400 font-bold">ì ê·¼ì„ :</span> $x=p, y=q$</li>
                                    <li><span class="text-accent-400 font-bold">ëŒ€ì¹­ì :</span> $(p, q)$</li>
                                    <li><span class="text-accent-400 font-bold">ëŒ€ì¹­ì¶•:</span> ì  $(p,q)$ë¥¼ ì§€ë‚˜ê³  ê¸°ìš¸ê¸°ê°€ $\\pm 1$ì¸ ì§ì„ </li>
                                </ul>
                            </div>
                            <p class="text-sm text-slate-300">
                                $k > 0$ ì´ë©´ 1, 3ì‚¬ë¶„ë©´ ë°©í–¥ <br>
                                $k < 0$ ì´ë©´ 2, 4ì‚¬ë¶„ë©´ ë°©í–¥
                            </p>
                        `
                    },
                    {
                        title: "ìœ ë¦¬í•¨ìˆ˜ì˜ ì—­í•¨ìˆ˜ ê³µì‹",
                        content: `
                            <p class="text-sm text-slate-300 mb-2">í•¨ìˆ˜ $f(x) = \\frac{ax+b}{cx+d}$ ì˜ ì—­í•¨ìˆ˜ëŠ”?</p>
                            <div class="bg-dark-800 p-2 rounded text-center border border-dark-700">
                                <span class="text-lg font-bold text-yellow-400">$f^{-1}(x) = \\frac{dx-b}{-cx+a}$</span>
                            </div>
                            <p class="text-xs text-slate-400 mt-2 text-center">
                                $a$ì™€ $d$ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¸ê³  ë¶€í˜¸ë„ ë°”ê¾¼ë‹¤!
                            </p>
                        `
                    }
                ]
            },
            {
                id: "irrational",
                category: "ë¬´ë¦¬í•¨ìˆ˜",
                icon: "fa-square-root-variable",
                items: [
                    {
                        title: "ë¬´ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„ ê°œí˜•",
                        content: `
                            <p class="text-sm text-slate-300 mb-3">
                                $y = \\pm \\sqrt{ax}$ ê¼´ì˜ ë°©í–¥ì„± ê²°ì •
                            </p>
                            <div class="grid grid-cols-2 gap-2 text-xs text-center">
                                <div class="bg-dark-900 p-2 rounded border border-dark-700">
                                    <strong class="text-accent-400">1ì‚¬ë¶„ë©´ ë°©í–¥</strong><br>
                                    $y = \\sqrt{x}$ (+, +)
                                </div>
                                <div class="bg-dark-900 p-2 rounded border border-dark-700">
                                    <strong class="text-accent-400">2ì‚¬ë¶„ë©´ ë°©í–¥</strong><br>
                                    $y = \\sqrt{-x}$ (-, +)
                                </div>
                                <div class="bg-dark-900 p-2 rounded border border-dark-700">
                                    <strong class="text-accent-400">3ì‚¬ë¶„ë©´ ë°©í–¥</strong><br>
                                    $y = -\\sqrt{-x}$ (-, -)
                                </div>
                                <div class="bg-dark-900 p-2 rounded border border-dark-700">
                                    <strong class="text-accent-400">4ì‚¬ë¶„ë©´ ë°©í–¥</strong><br>
                                    $y = -\\sqrt{x}$ (+, -)
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "ë¬´ë¦¬í•¨ìˆ˜ í•µì‹¬ í¬ì¸íŠ¸",
                        content: `
                            <ul class="list-disc list-inside space-y-2 text-slate-300 text-sm">
                                <li><strong>ì‹œì‘ì :</strong> ê·¼í˜¸ ì•ˆì´ 0ì´ ë˜ëŠ” $x$ê°’ê³¼ ë’¤ì— ë¶™ì€ ìƒìˆ˜ê°€ ì‹œì‘ì  $(p, q)$ê°€ ë¨.</li>
                                <li><strong>ì •ì˜ì—­:</strong> ê·¼í˜¸ ì•ˆì˜ ì‹ $\\ge 0$</li>
                                <li><strong>ì—­í•¨ìˆ˜:</strong> 2ì°¨í•¨ìˆ˜ì˜ ë°˜ìª½ ($x$ë²”ìœ„ ì œí•œ í•„ìˆ˜)</li>
                                <li><strong>ì§ì„ ê³¼ì˜ ìœ„ì¹˜ê´€ê³„:</strong> íŒë³„ì‹ $D=0$(ì ‘í•  ë•Œ)ê³¼ ì‹œì‘ì ì„ ì§€ë‚  ë•Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ íŒë‹¨.</li>
                            </ul>
                        `
                    }
                ]
            }
        ];

        const contentArea = document.getElementById('contentArea');
        const categoryNav = document.getElementById('categoryNav');
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        const searchContainer = document.getElementById('searchContainer');

        // Initial Render
        function renderCategories() {
            let navHtml = '<button onclick="filterContent(\'all\')" class="whitespace-nowrap px-4 py-2 rounded-full bg-accent-500 text-white font-medium text-sm transition shadow-lg shadow-accent-500/20 ring-2 ring-accent-500 ring-offset-2 ring-offset-dark-900" id="btn-all">ì „ì²´ë³´ê¸°</button>';
            
            studyData.forEach(cat => {
                navHtml += `<button onclick="filterContent('${cat.id}')" class="whitespace-nowrap px-4 py-2 rounded-full bg-dark-800 text-slate-400 border border-dark-700 hover:bg-dark-700 font-medium text-sm transition" id="btn-${cat.id}">${cat.category}</button>`;
            });
            categoryNav.innerHTML = navHtml;
        }

        function renderContent(filterId = 'all', searchTerm = '') {
            contentArea.innerHTML = '';
            
            let filteredData = studyData;
            
            if (filterId !== 'all') {
                filteredData = studyData.filter(cat => cat.id === filterId);
            }

            // Search Logic
            if (searchTerm) {
                const term = searchTerm.toLowerCase();
                // Create a temporary filtered structure
                const searchResults = [];
                studyData.forEach(cat => {
                    const matchingItems = cat.items.filter(item => 
                        item.title.toLowerCase().includes(term) || 
                        item.content.toLowerCase().includes(term)
                    );
                    if (matchingItems.length > 0) {
                        searchResults.push({ ...cat, items: matchingItems });
                    }
                });
                filteredData = searchResults;
            }

            if (filteredData.length === 0) {
                contentArea.innerHTML = `
                    <div class="text-center py-10 text-slate-500">
                        <i class="fa-solid fa-ghost text-4xl mb-3"></i>
                        <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }

            filteredData.forEach(cat => {
                // Section Header
                const sectionHtml = `
                    <div class="mb-6 fade-in">
                        <h3 class="flex items-center text-accent-400 font-bold text-lg mb-3 px-1 border-l-4 border-accent-500 pl-3">
                            <i class="fa-solid ${cat.icon} mr-2"></i> ${cat.category}
                        </h3>
                        <div class="space-y-3">
                            ${cat.items.map((item, index) => `
                                <div class="bg-dark-800 rounded-xl overflow-hidden border border-dark-700 shadow-sm transition hover:border-slate-600">
                                    <button class="w-full px-5 py-4 flex justify-between items-center text-left focus:outline-none" onclick="toggleAccordion(this)">
                                        <span class="font-medium text-slate-100">${item.title}</span>
                                        <i class="fa-solid fa-chevron-down text-slate-500 text-sm transition-transform duration-300"></i>
                                    </button>
                                    <div class="hidden bg-dark-800/50 border-t border-dark-700 px-5 py-4 text-slate-300 text-sm leading-relaxed">
                                        ${item.content}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                contentArea.innerHTML += sectionHtml;
            });

            // Re-render MathJax
            if (window.MathJax) {
                window.MathJax.typesetPromise();
            }
        }

        // Toggle Accordion Logic
        function toggleAccordion(btn) {
            const content = btn.nextElementSibling;
            const icon = btn.querySelector('.fa-chevron-down');
            
            // Toggle current
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.classList.add('rotate-180');
                content.classList.add('animate-slide-down');
            } else {
                content.classList.add('hidden');
                icon.classList.remove('rotate-180');
            }
        }

        // Filter Logic
        function filterContent(id) {
            // Reset buttons styles
            const buttons = categoryNav.querySelectorAll('button');
            buttons.forEach(btn => {
                btn.className = "whitespace-nowrap px-4 py-2 rounded-full bg-dark-800 text-slate-400 border border-dark-700 hover:bg-dark-700 font-medium text-sm transition";
            });

            // Active button style
            const activeBtn = document.getElementById(`btn-${id}`);
            if (activeBtn) {
                activeBtn.className = "whitespace-nowrap px-4 py-2 rounded-full bg-accent-500 text-white font-medium text-sm transition shadow-lg shadow-accent-500/20 ring-2 ring-accent-500 ring-offset-2 ring-offset-dark-900";
            }

            renderContent(id, searchInput.value);
        }

        // Search Toggle
        searchBtn.addEventListener('click', () => {
            searchContainer.classList.toggle('hidden');
            if (!searchContainer.classList.contains('hidden')) {
                searchInput.focus();
            }
        });

        // Search Input Logic
        searchInput.addEventListener('input', (e) => {
            // Find currently active filter (simple approach: reset to all when searching)
            filterContent('all');
            renderContent('all', e.target.value);
        });

        // Initialize
        renderCategories();
        renderContent();

    </script>

    <!-- Custom Animations -->
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</body>
</html>